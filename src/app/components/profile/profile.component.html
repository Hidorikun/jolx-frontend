<div class="profile-page">
  <div class="page-header header-filter" data-parallax="true"
       style="background-image:url('http://wallpapere.org/wp-content/uploads/2012/02/black-and-white-city-night.png');"></div>
  <div class="main main-raised">
    <div class="profile-content">
      <div class="container">
        <div class="row">
          <div class="col-md-6 ml-auto mr-auto">
            <div class="profile">
              <div class="avatar" *ngIf="user.photo != null && user.photo != undefined">
                <img src="{{serverRoute}}{{user.photo.url}}" alt="Circle Image"
                     class="img-raised rounded-circle img-fluid"/>
              </div>
              <div class="avatar" *ngIf="user.photo == null || user.photo == undefined">
                <img
                  src="../../../assets/images/default-user-photo.png" alt="Circle Image"
                  class="img-raised rounded-circle img-fluid">
              </div>
              <h2 class="name">{{user.firstName}} {{user.lastName}}</h2>
              </div>
          </div>
          <button routerLink="/edit" class="button">Edit profile</button>
        </div>

        <div class="description text-center">
        </div>
        <hr class="">
        <div class="row">
          <div class="col-sm-3">
            <ul class="list-group">
              <li class="list-group-item text-muted" contenteditable="false">Profile</li>
              <li class="list-group-item text-right"><span class="pull-left"><strong class="">User Name:</strong></span>@{{user.username}}
              </li>
              <li class="list-group-item text-right"><span class="pull-left"><strong class="">Email:</strong></span>
                {{user.email}}
              </li>
              <li class="list-group-item text-right"><span class="pull-left"><strong
                class="">Phone Number</strong></span>{{user.phone}}
              </li>
              <li class="list-group-item text-right"><span class="pull-left"><strong
                class="">Date of birth </strong></span>{{user.dob}}
                <div *ngIf="user.dob===null">----</div>
              </li>
            </ul>
            <div class="panel panel-default">
              <div class="panel-heading">Jobs Posted

              </div>
              <div class="panel-body">
                <div *ngIf="jobsLoading">
                  <div class="loader loader-sml"></div>
                </div>
                <div *ngIf="!jobsLoading">
                  <div *ngFor="let posting of user.jobsPosted">
                    <a href="http://localhost:4200/postings/{{posting._id}}"><p class="text-primary">
                      {{posting.name}}</p></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-9" style="" contenteditable="false">
            <div class="panel panel-default target">
              <div class="panel-heading" contenteditable="false">Applied Jobs</div>
              <div class="panel-body">
                <div class="row">
                  <div *ngFor="let posting of user.postingsAppliedFor">
                    <div class="col-md-5">
                      <app-card [posting]="posting"></app-card>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- else display stock image -->
</div>
